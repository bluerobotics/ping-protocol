{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"The protocol","text":"<p>The protocol is designed for synchronous communications in a master-&gt;slave network. The slave will only send data when requested by the master. This allows the protocol to be used on a half-duplex bus like RS485. Some devices may also provide facilities to allow asynchronous communication.</p>"},{"location":"#message-format","title":"Message Format","text":"<p>Each message consists of a header, optional payload, and checksum. The binary format is specified as follows:</p> Byte Type Name Description 0 u8 start1 Start frame identifier, ASCII 'B' 1 u8 start2 Start frame identifier, ASCII 'R' 2-3 u16 payload_length Number of bytes in payload. 4-5 u16 message_id The message id. 6 u8 src_device_id The device ID of the device sending the message. 7 u8 dst_device_id The device ID of the intended recipient of the message. 8-n u8[] payload The message payload. (n+1)-(n+2) u16 checksum The message checksum. The checksum is calculated as the sum of all the non-checksum bytes in the message."},{"location":"#scheme","title":"Scheme","text":"<p>Messages are divided into 4 categories:</p> <ul> <li>general: messages that are used for general purpose signalling and communication.</li> <li>read/get: messages that are sent from the device in response to a <code>general_request</code> from the host. These messages are designed to read data from the device.</li> <li>write/set: messages that are sent from the host to configure some parameters on the device. These messages are designed to write data to the device.</li> <li>control: messages that are sent from the host to command the device to perform some action. These messages are designed to perform more complex device interactions than atomic read/write.</li> </ul> <p>There are a some messages that are implemented by all devices, referred to as the 'common' message set. Message ids # 0~999 are reserved for the common messages. The request message is a special message in the common set that is used to request the device to respond with a message from the get category. Each device must also define it's own message set specific to the operation of the particular device.</p>"},{"location":"#message-definitions","title":"Message Definitions","text":"<ul> <li>common</li> <li>ping1d</li> <li>ping360</li> </ul>"},{"location":"#device-discovery","title":"Device Discovery","text":"<p>If necessary, Ping Protocol enabled devices may be discovered and identified by the host as follows:</p> <ol> <li>The host first requests the protocol version from the device</li> <li>After receiving a protocol version reply, the host switches to the matching protocol version and requests the device type and firmware version</li> <li>The host then loads the appropriate message set matching the device</li> <li>Communication may then continue using the device-specific messages</li> </ol>"},{"location":"#negotiation-example","title":"Negotiation example","text":"<p>Here we demonstrate a byte-by-byte breakdown of some messages sent between the host application (master) and the device (slave). This example illustrates a few points:   - how to pack and unpack some message data (the byte-order of a message)   - how the request/response mechanism of the protcol works with the <code>general_request</code> message   - how to identify the protocol version that the device is using</p> <p>Establishing communication with a sensor using the ping-protocol should begin with negotiating the protocol version. This negotiation process consists of two steps:   - the host application requests a <code>protocol_version</code> message from the device   - the device responds with a <code>protocol_version</code> message</p> <p>Before reading these examples, you should be familiar with the message format specification.</p>"},{"location":"#request-protocol-version","title":"Request protocol version","text":"<p>In order to receive a <code>protocol_version</code> message from the device, we will first send a <code>general_request</code> message to the device to ask for the message. The <code>general_request</code> message has a single payload field, <code>requested_id</code>. We populate this field with a value of 5 to indicate that we want the sensor to respond with a <code>protocol_version</code> message:</p> Byte Value (hex) Value (decimal) Type Name Description 0 0x42 ('B') 66 u8 start1 This is a message start identifier, an ascii letter 'B' 1 0x52 ('R') 82 u8 start2 This is a message start identifier, an ascii letter 'R' 2-3 0x0002 2 u16 payload_length The number of bytes in the <code>general_request</code> payload 4-5 0x0006 6 u16 message_id This message is a <code>general_request</code> (id pingmessage-common#6) message 6 0x00 0 u8 src_device_id The device ID of the device sending the message. This field is not currently implemented and should be populated with a value of zero 7 0x00 0 u8 dst_device_id The device ID of the intended recipient of the message. This portion is not currently implemented and should be populated with a value of zero 8-9 0x0005 5 u16 requested_id This is the message id that we would like the device to transmit to us. Valid ids are those in the <code>get</code> category of messages 10-11 0x00a1 161 u16 checksum The message checksum. The checksum is calculated as the sum of all the non-checksum bytes in the message: <code>66 + 82 + 2 + 6 + 0 + 0 + 5 = 161</code> <p>The bytes should be transmitted in this order: <code>0x42, 0x52, 0x02, 0x00, 0x06, 0x00, 0x00, 0x00, 0x05, 0x00, 0xa1, 0x00</code></p> <p>Note that the messages are transmitted in little-endian format (observe the byte-order of the 16 bit fields)</p>"},{"location":"#receive-protocol-version","title":"Receive protocol version","text":"<p>If everything is right, the sensor will respond to our request with a <code>protocol_version</code> message. The <code>protocol_version</code> message has 4 bytes in the payload: <code>version_major</code>, <code>version_minor</code>, <code>version_patch</code>, and <code>reserved</code>.</p> <p>In this example, the device is using (a hypothetical) protocol version 1.2.3:   - version_major = 1   - version_minor = 2   - version_patch = 3</p> Byte Value (hex) Value (decimal) Type Name Description 0 0x42 ('B') 66 u8 start1 This is a message start identifier, an ascii letter 'B' 1 0x52 ('R') 82 u8 start2 This is a message start identifier, an ascii letter 'R' 2-3 0x0004 4 u16 payload_length The number of bytes in the <code>protocol_version</code> payload 4-5 0x0005 5 u16 message_id This message is a <code>protocol_version</code> (id #5) message 6 0x00 0 u8 src_device_id The device ID of the device sending the message. This field is not currently implemented and should be populated with a value of zero 7 0x00 0 u8 dst_device_id The device ID of the intended recipient of the message. This field is not currently implemented and should be populated with a value of zero 8 0x01 1 u8 version_major This is the protocol major version, the first digit in our example: v1.2.3 9 0x02 2 u8 version_minor This is the protocol minor version, the second digit in our example: v1.2.3 10 0x03 3 u8 version_patch This is the protocol patch version, the third digit in our example: v1.2.3 11 0x00 0 u8 reserved This byte is unused and will normally be zero (but it might be any value) 12-13 0x00a3 163 u16 checksum The message checksum. The checksum is calculated as the sum of all the non-checksum bytes in the message: <code>66 + 82 + 4 + 5 + 0 + 0 + 1 + 2 + 3 + 0 = 163</code> <p>The bytes will be received in this order: <code>0x42, 0x52, 0x04, 0x00, 0x05, 0x00, 0x00, 0x00, 0x01, 0x02, 0x03, 0x00, 0xa3, 0x00</code></p> <p>Note that the messages are transmitted in little-endian format (observe the byte-order of the 16 bit fields)</p>"},{"location":"pingmessage-common/","title":"Common messages","text":""},{"location":"pingmessage-common/#general","title":"general","text":""},{"location":"pingmessage-common/#1-ack","title":"1 ack","text":"<p>Acknowledged.</p> Type Name Description Units u16 acked_id The message ID that is ACKnowledged."},{"location":"pingmessage-common/#2-nack","title":"2 nack","text":"<p>Not acknowledged.</p> Type Name Description Units u16 nacked_id The message ID that is Not ACKnowledged. char[] nack_message ASCII text message indicating NACK condition. (not necessarily NULL terminated) Length is derived from payload_length in the header."},{"location":"pingmessage-common/#3-ascii_text","title":"3 ascii_text","text":"<p>A message for transmitting text data.</p> Type Name Description Units char[] ascii_message ASCII text message. (not necessarily NULL terminated) Length is derived from payload_length in the header."},{"location":"pingmessage-common/#6-general_request","title":"6 general_request","text":"<p>Requests a specific message to be sent from the sonar to the host. Command timeout should be set to 50 msec.</p> Type Name Description Units u16 requested_id Message ID to be requested."},{"location":"pingmessage-common/#get","title":"get","text":""},{"location":"pingmessage-common/#4-device_information","title":"4 device_information","text":"<p>Device information</p> Type Name Description Units u8 device_type Device type. 0: Unknown; 1: Ping Echosounder; 2: Ping360 u8 device_revision device-specific hardware revision u8 firmware_version_major Firmware version major number. u8 firmware_version_minor Firmware version minor number. u8 firmware_version_patch Firmware version patch number. u8 reserved reserved"},{"location":"pingmessage-common/#5-protocol_version","title":"5 protocol_version","text":"<p>The protocol version</p> Type Name Description Units u8 version_major Protocol version major number. u8 version_minor Protocol version minor number. u8 version_patch Protocol version patch number. u8 reserved reserved"},{"location":"pingmessage-common/#set","title":"set","text":""},{"location":"pingmessage-common/#100-set_device_id","title":"100 set_device_id","text":"<p>Set the device ID.</p> Type Name Description Units u8 device_id Device ID (1-254). 0 is unknown and 255 is reserved for broadcast messages."},{"location":"pingmessage-omniscan450/","title":"Omniscan450 messages","text":""},{"location":"pingmessage-omniscan450/#general","title":"general","text":""},{"location":"pingmessage-omniscan450/#10-json_wrapper","title":"10 JSON_WRAPPER","text":"Type Name Description Units char[] string Length is derived from payload_length in the header."},{"location":"pingmessage-omniscan450/#control","title":"control","text":""},{"location":"pingmessage-omniscan450/#1002-set_speed_of_sound","title":"1002 set_speed_of_sound","text":"<p>Set the speed of sound.</p> Type Name Description Units u32 speed_of_sound The speed of sound in the measurement medium. ~1,500,000 mm/s for water. mm/s"},{"location":"pingmessage-omniscan450/#2197-os_ping_params","title":"2197 os_ping_params","text":"Type Name Description Units u32 start_mm Start of ping range, set to 0. mm u32 length_mm Length of the returned profile, end of range = start_mm + length_mm. mm u32 msec_per_ping Set value to limit ping rate, normally set to 0 for best ping rate. msec float reserved_1 Set to 0 float reserved_2 Set to 0 float pulse_len_percent % of total ping time for current range, 0.002 typical. float filter_duration_percent 0.0015 typical. i16 gain_index Set to -1 for auto gain, otherwise 0-7 sets gain. u16 num_results Number of signal data points in resulting profile (200-1200), 600 typical. u8 enable 1 or 0 to enable or disable pinging. u8 reserved_3 Set to 0 u8 reserved_4 Set to 0 u8 reserved_5 Set to 0"},{"location":"pingmessage-omniscan450/#get","title":"get","text":""},{"location":"pingmessage-omniscan450/#2198-os_mono_profile","title":"2198 os_mono_profile","text":"<p>A profile produced from a single acoustic measurement. The data returned is an array of response strength, in dB, at even intervals across the scan region. The scan region is defined as the region between  and  millimeters away from the transducer. Note that the amplitude of the results are in dB. This is just to keep high dynamic range in the u16 sized data elements. Normally these are converted back to linear power or signal levels. Type Name Description Units u32 ping_number sequentially assigned from 0 at power up u32 start_mm The beginning of the scan region in mm from the transducer. mm u32 length_mm The length of the scan region. mm u32 timestamp_ms msec since power up at time of ping ms u32 ping_hz Frequency of acoustic signal hz u16 gain_index 0-7 u16 num_results length of pwr_results array u16 sos_dmps speed of sound, decimeters/sec u8 channel_number u8 reserved float pulse_duration_sec float analog_gain float max_pwr_db float min_pwr_db float transducer_heading_deg float vehicle_heading_deg u16[] pwr_results An array of return strength measurements taken at regular intervals across the scan region. The first element is the closest measurement to the sensor, and the last element is the farthest measurement in the scanned range. power results scaled from min_pwr_db to max_pwr_db Length is derived from payload_length in the header."},{"location":"pingmessage-ping1d/","title":"Ping1d messages","text":""},{"location":"pingmessage-ping1d/#set","title":"set","text":""},{"location":"pingmessage-ping1d/#1000-set_device_id","title":"1000 set_device_id","text":"<p>Set the device ID.</p> Type Name Description Units u8 device_id Device ID (0-254). 255 is reserved for broadcast messages."},{"location":"pingmessage-ping1d/#1001-set_range","title":"1001 set_range","text":"<p>Set the scan range for acoustic measurements.</p> Type Name Description Units u32 scan_start mm u32 scan_length The length of the scan range. Minimum 1000. mm"},{"location":"pingmessage-ping1d/#1002-set_speed_of_sound","title":"1002 set_speed_of_sound","text":"<p>Set the speed of sound used for distance calculations.</p> Type Name Description Units u32 speed_of_sound The speed of sound in the measurement medium. ~1,500,000 mm/s for water. mm/s"},{"location":"pingmessage-ping1d/#1003-set_mode_auto","title":"1003 set_mode_auto","text":"<p>Set automatic or manual mode. Manual mode allows for manual selection of the gain and scan range.</p> Type Name Description Units u8 mode_auto 0: manual mode. 1: auto mode."},{"location":"pingmessage-ping1d/#1004-set_ping_interval","title":"1004 set_ping_interval","text":"<p>The interval between acoustic measurements.</p> Type Name Description Units u16 ping_interval The interval between acoustic measurements. ms"},{"location":"pingmessage-ping1d/#1005-set_gain_setting","title":"1005 set_gain_setting","text":"<p>Set the current gain setting.</p> Type Name Description Units u8 gain_setting The current gain setting. 0: 0.6, 1: 1.8, 2: 5.5, 3: 12.9, 4: 30.2, 5: 66.1, 6: 144"},{"location":"pingmessage-ping1d/#1006-set_ping_enable","title":"1006 set_ping_enable","text":"<p>Enable or disable acoustic measurements.</p> Type Name Description Units u8 ping_enabled 0: Disable, 1: Enable."},{"location":"pingmessage-ping1d/#1007-set_oss_profile_configuration","title":"1007 set_oss_profile_configuration","text":"<p>Set the profile output configuration. (Open source firmware only)</p> Type Name Description Units u16 number_of_points u8 normalization_enabled If enabled, the profile data is scaled so that the maximum value aligns with the upper limit of 255. (0: Disabled, 1: Enabled) u8 enhance_enabled If enabled, the profile data will be unevenly scaled to enhance peak values. (0: Disabled, 1: Enabled)"},{"location":"pingmessage-ping1d/#get","title":"get","text":""},{"location":"pingmessage-ping1d/#1200-firmware_version","title":"1200 firmware_version","text":"<p>Device information</p> Type Name Description Units u8 device_type Device type. 0: Unknown; 1: Echosounder u8 device_model Device model. 0: Unknown; 1: Ping1D u16 firmware_version_major Firmware version major number. u16 firmware_version_minor Firmware version minor number."},{"location":"pingmessage-ping1d/#1201-device_id","title":"1201 device_id","text":"<p>The device ID.</p> Type Name Description Units u8 device_id The device ID (0-254). 255 is reserved for broadcast messages."},{"location":"pingmessage-ping1d/#1202-voltage_5","title":"1202 voltage_5","text":"<p>The 5V rail voltage.</p> Type Name Description Units u16 voltage_5 The 5V rail voltage. mV"},{"location":"pingmessage-ping1d/#1203-speed_of_sound","title":"1203 speed_of_sound","text":"<p>The speed of sound used for distance calculations.</p> Type Name Description Units u32 speed_of_sound The speed of sound in the measurement medium. ~1,500,000 mm/s for water. mm/s"},{"location":"pingmessage-ping1d/#1204-range","title":"1204 range","text":"<p>The scan range for acoustic measurements. Measurements returned by the device will lie in the range (scan_start, scan_start + scan_length).</p> Type Name Description Units u32 scan_start The beginning of the scan range in mm from the transducer. mm u32 scan_length The length of the scan range. mm"},{"location":"pingmessage-ping1d/#1205-mode_auto","title":"1205 mode_auto","text":"<p>The current operating mode of the device. Manual mode allows for manual selection of the gain and scan range.</p> Type Name Description Units u8 mode_auto 0: manual mode, 1: auto mode"},{"location":"pingmessage-ping1d/#1206-ping_interval","title":"1206 ping_interval","text":"<p>The interval between acoustic measurements.</p> Type Name Description Units u16 ping_interval The minimum interval between acoustic measurements. The actual interval may be longer. ms"},{"location":"pingmessage-ping1d/#1207-gain_setting","title":"1207 gain_setting","text":"<p>The current gain setting.</p> Type Name Description Units u32 gain_setting The current gain setting. 0: 0.6, 1: 1.8, 2: 5.5, 3: 12.9, 4: 30.2, 5: 66.1, 6: 144"},{"location":"pingmessage-ping1d/#1208-transmit_duration","title":"1208 transmit_duration","text":"<p>The duration of the acoustic activation/transmission.</p> Type Name Description Units u16 transmit_duration Acoustic pulse duration. microseconds"},{"location":"pingmessage-ping1d/#1210-general_info","title":"1210 general_info","text":"<p>General information.</p> Type Name Description Units u16 firmware_version_major Firmware major version. u16 firmware_version_minor Firmware minor version. u16 voltage_5 Device supply voltage. mV u16 ping_interval The interval between acoustic measurements. ms u8 gain_setting The current gain setting. 0: 0.6, 1: 1.8, 2: 5.5, 3: 12.9, 4: 30.2, 5: 66.1, 6: 144 u8 mode_auto The current operating mode of the device. 0: manual mode, 1: auto mode"},{"location":"pingmessage-ping1d/#1211-distance_simple","title":"1211 distance_simple","text":"<p>The distance to target with confidence estimate.</p> Type Name Description Units u32 distance Distance to the target. mm u8 confidence Confidence in the distance measurement. %"},{"location":"pingmessage-ping1d/#1212-distance","title":"1212 distance","text":"<p>The distance to target with confidence estimate. Relevant device parameters during the measurement are also provided.</p> Type Name Description Units u32 distance The current return distance determined for the most recent acoustic measurement. mm u16 confidence Confidence in the most recent range measurement. % u16 transmit_duration The acoustic pulse length during acoustic transmission/activation. us u32 ping_number The pulse/measurement count since boot. u32 scan_start The beginning of the scan region in mm from the transducer. mm u32 scan_length The length of the scan region. mm u32 gain_setting The current gain setting. 0: 0.6, 1: 1.8, 2: 5.5, 3: 12.9, 4: 30.2, 5: 66.1, 6: 144"},{"location":"pingmessage-ping1d/#1213-processor_temperature","title":"1213 processor_temperature","text":"<p>Temperature of the device cpu.</p> Type Name Description Units u16 processor_temperature The temperature in centi-degrees Centigrade (100 * degrees C). cC"},{"location":"pingmessage-ping1d/#1214-pcb_temperature","title":"1214 pcb_temperature","text":"<p>Temperature of the on-board thermistor.</p> Type Name Description Units u16 pcb_temperature The temperature in centi-degrees Centigrade (100 * degrees C). cC"},{"location":"pingmessage-ping1d/#1215-ping_enable","title":"1215 ping_enable","text":"<p>Acoustic output enabled state.</p> Type Name Description Units u8 ping_enabled The state of the acoustic output. 0: disabled, 1:enabled"},{"location":"pingmessage-ping1d/#1300-profile","title":"1300 profile","text":"<p>A profile produced from a single acoustic measurement. The data returned is an array of response strength at even intervals across the scan region. The scan region is defined as the region between  and  millimeters away from the transducer. A distance measurement to the target is also provided. Type Name Description Units u32 distance The current return distance determined for the most recent acoustic measurement. mm u16 confidence Confidence in the most recent range measurement. % u16 transmit_duration The acoustic pulse length during acoustic transmission/activation. us u32 ping_number The pulse/measurement count since boot. u32 scan_start The beginning of the scan region in mm from the transducer. mm u32 scan_length The length of the scan region. mm u32 gain_setting The current gain setting. 0: 0.6, 1: 1.8, 2: 5.5, 3: 12.9, 4: 30.2, 5: 66.1, 6: 144 u16 profile_data_length The length of the proceeding vector field u8[] profile_data An array of return strength measurements taken at regular intervals across the scan region. The first element is the closest measurement to the sensor, and the last element is the farthest measurement in the scanned range."},{"location":"pingmessage-ping1d/#1301-oss_profile_configuration","title":"1301 oss_profile_configuration","text":"<p>Get the profile output configuration. (Open source firmware only)</p> Type Name Description Units u16 number_of_points u8 normalization_enabled If enabled, the profile data is scaled so that the maximum value aligns with the upper limit of 255. (0: Disabled, 1: Enabled) u8 enhance_enabled If enabled, the profile data will be unevenly scaled to enhance peak values. (0: Disabled, 1: Enabled)"},{"location":"pingmessage-ping1d/#control","title":"control","text":""},{"location":"pingmessage-ping1d/#1100-goto_bootloader","title":"1100 goto_bootloader","text":"<p>Send the device into the bootloader. This is useful for firmware updates.</p> <p>No payload.</p>"},{"location":"pingmessage-ping1d/#1400-continuous_start","title":"1400 continuous_start","text":"<p>Command to initiate continuous data stream of profile messages.</p> Type Name Description Units u16 id The message id to stream. 1300: profile"},{"location":"pingmessage-ping1d/#1401-continuous_stop","title":"1401 continuous_stop","text":"<p>Command to stop the continuous data stream of profile messages.</p> Type Name Description Units u16 id The message id to stop streaming. 1300: profile"},{"location":"pingmessage-ping1dtsr/","title":"Ping1dtsr messages","text":""},{"location":"pingmessage-ping1dtsr/#set","title":"set","text":""},{"location":"pingmessage-ping1dtsr/#1000-set_device_id","title":"1000 set_device_id","text":"<p>Set the device ID.</p> Type Name Description Units u8 device_id Device ID (0-254). 255 is reserved for broadcast messages."},{"location":"pingmessage-ping1dtsr/#1001-set_range","title":"1001 set_range","text":"<p>Set the scan range for acoustic measurements.</p> Type Name Description Units u32 scan_start mm u32 scan_length The length of the scan range. Minimum 1000. mm"},{"location":"pingmessage-ping1dtsr/#1002-set_speed_of_sound","title":"1002 set_speed_of_sound","text":"<p>Set the speed of sound used for distance calculations.</p> Type Name Description Units u32 speed_of_sound The speed of sound in the measurement medium. ~1,500,000 mm/s for water. mm/s"},{"location":"pingmessage-ping1dtsr/#1003-set_mode_auto","title":"1003 set_mode_auto","text":"<p>Set automatic or manual mode. Manual mode allows for manual selection of the gain and scan range.</p> Type Name Description Units u8 mode_auto 0: manual mode. 1: auto mode."},{"location":"pingmessage-ping1dtsr/#1004-set_ping_interval","title":"1004 set_ping_interval","text":"<p>The interval between acoustic measurements.</p> Type Name Description Units u16 ping_interval The interval between acoustic measurements. ms"},{"location":"pingmessage-ping1dtsr/#1005-set_gain_setting","title":"1005 set_gain_setting","text":"<p>Set the current gain setting.</p> Type Name Description Units u8 gain_setting The current gain setting. 0: 0.6, 1: 1.8, 2: 5.5, 3: 12.9, 4: 30.2, 5: 66.1, 6: 144"},{"location":"pingmessage-ping1dtsr/#1006-set_ping_enable","title":"1006 set_ping_enable","text":"<p>Enable or disable acoustic measurements.</p> Type Name Description Units u8 ping_enabled 0: Disable, 1: Enable."},{"location":"pingmessage-ping1dtsr/#1007-set_oss_profile_configuration","title":"1007 set_oss_profile_configuration","text":"<p>Set the profile output configuration. (Open source firmware only)</p> Type Name Description Units u16 number_of_points u8 normalization_enabled If enabled, the profile data is scaled so that the maximum value aligns with the upper limit of 255. (0: Disabled, 1: Enabled) u8 enhance_enabled If enabled, the profile data will be unevenly scaled to enhance peak values. (0: Disabled, 1: Enabled)"},{"location":"pingmessage-ping1dtsr/#1501-set_gps_location","title":"1501 set_gps_location","text":"<p>Return the last known GPS location</p> Type Name Description Units double utc_time UTC time from the GPS double latitude [-] decimal lattitude double longitude [-] decimal longitude double altitude altitude in meters double HDOP horizontal precision double geoid_separation adjustment in meters m u16 reference_id Reference station ID (0..4095) u8 quality 0 - not valid, &gt;0 (see NEMA definitions) u8 satellites 0..24"},{"location":"pingmessage-ping1dtsr/#get","title":"get","text":""},{"location":"pingmessage-ping1dtsr/#1200-firmware_version","title":"1200 firmware_version","text":"<p>Device information</p> Type Name Description Units u8 device_type Device type. 0: Unknown; 1: Echosounder u8 device_model Device model. 0: Unknown; 1: Ping1D u16 firmware_version_major Firmware version major number. u16 firmware_version_minor Firmware version minor number."},{"location":"pingmessage-ping1dtsr/#1201-device_id","title":"1201 device_id","text":"<p>The device ID.</p> Type Name Description Units u8 device_id The device ID (0-254). 255 is reserved for broadcast messages."},{"location":"pingmessage-ping1dtsr/#1202-voltage_5","title":"1202 voltage_5","text":"<p>The 5V rail voltage.</p> Type Name Description Units u16 voltage_5 The 5V rail voltage. mV"},{"location":"pingmessage-ping1dtsr/#1203-speed_of_sound","title":"1203 speed_of_sound","text":"<p>The speed of sound used for distance calculations.</p> Type Name Description Units u32 speed_of_sound The speed of sound in the measurement medium. ~1,500,000 mm/s for water. mm/s"},{"location":"pingmessage-ping1dtsr/#1204-range","title":"1204 range","text":"<p>The scan range for acoustic measurements. Measurements returned by the device will lie in the range (scan_start, scan_start + scan_length).</p> Type Name Description Units u32 scan_start The beginning of the scan range in mm from the transducer. mm u32 scan_length The length of the scan range. mm"},{"location":"pingmessage-ping1dtsr/#1205-mode_auto","title":"1205 mode_auto","text":"<p>The current operating mode of the device. Manual mode allows for manual selection of the gain and scan range.</p> Type Name Description Units u8 mode_auto 0: manual mode, 1: auto mode"},{"location":"pingmessage-ping1dtsr/#1206-ping_interval","title":"1206 ping_interval","text":"<p>The interval between acoustic measurements.</p> Type Name Description Units u16 ping_interval The minimum interval between acoustic measurements. The actual interval may be longer. ms"},{"location":"pingmessage-ping1dtsr/#1207-gain_setting","title":"1207 gain_setting","text":"<p>The current gain setting.</p> Type Name Description Units u32 gain_setting The current gain setting. 0: 0.6, 1: 1.8, 2: 5.5, 3: 12.9, 4: 30.2, 5: 66.1, 6: 144"},{"location":"pingmessage-ping1dtsr/#1208-transmit_duration","title":"1208 transmit_duration","text":"<p>The duration of the acoustic activation/transmission.</p> Type Name Description Units u16 transmit_duration Acoustic pulse duration. microseconds"},{"location":"pingmessage-ping1dtsr/#1210-general_info","title":"1210 general_info","text":"<p>General information.</p> Type Name Description Units u16 firmware_version_major Firmware major version. u16 firmware_version_minor Firmware minor version. u16 voltage_5 Device supply voltage. mV u16 ping_interval The interval between acoustic measurements. ms u8 gain_setting The current gain setting. 0: 0.6, 1: 1.8, 2: 5.5, 3: 12.9, 4: 30.2, 5: 66.1, 6: 144 u8 mode_auto The current operating mode of the device. 0: manual mode, 1: auto mode"},{"location":"pingmessage-ping1dtsr/#1211-distance_simple","title":"1211 distance_simple","text":"<p>The distance to target with confidence estimate.</p> Type Name Description Units u32 distance Distance to the target. mm u8 confidence Confidence in the distance measurement. %"},{"location":"pingmessage-ping1dtsr/#1212-distance","title":"1212 distance","text":"<p>The distance to target with confidence estimate. Relevant device parameters during the measurement are also provided.</p> Type Name Description Units u32 distance The current return distance determined for the most recent acoustic measurement. mm u16 confidence Confidence in the most recent range measurement. % u16 transmit_duration The acoustic pulse length during acoustic transmission/activation. us u32 ping_number The pulse/measurement count since boot. u32 scan_start The beginning of the scan region in mm from the transducer. mm u32 scan_length The length of the scan region. mm u32 gain_setting The current gain setting. 0: 0.6, 1: 1.8, 2: 5.5, 3: 12.9, 4: 30.2, 5: 66.1, 6: 144"},{"location":"pingmessage-ping1dtsr/#1213-processor_temperature","title":"1213 processor_temperature","text":"<p>Temperature of the device cpu.</p> Type Name Description Units u16 processor_temperature The temperature in centi-degrees Centigrade (100 * degrees C). cC"},{"location":"pingmessage-ping1dtsr/#1214-pcb_temperature","title":"1214 pcb_temperature","text":"<p>Temperature of the on-board thermistor.</p> Type Name Description Units u16 pcb_temperature The temperature in centi-degrees Centigrade (100 * degrees C). cC"},{"location":"pingmessage-ping1dtsr/#1215-ping_enable","title":"1215 ping_enable","text":"<p>Acoustic output enabled state.</p> Type Name Description Units u8 ping_enabled The state of the acoustic output. 0: disabled, 1:enabled"},{"location":"pingmessage-ping1dtsr/#1300-profile","title":"1300 profile","text":"<p>A profile produced from a single acoustic measurement. The data returned is an array of response strength at even intervals across the scan region. The scan region is defined as the region between  and  millimeters away from the transducer. A distance measurement to the target is also provided. Type Name Description Units u32 distance The current return distance determined for the most recent acoustic measurement. mm u16 confidence Confidence in the most recent range measurement. % u16 transmit_duration The acoustic pulse length during acoustic transmission/activation. us u32 ping_number The pulse/measurement count since boot. u32 scan_start The beginning of the scan region in mm from the transducer. mm u32 scan_length The length of the scan region. mm u32 gain_setting The current gain setting. 0: 0.6, 1: 1.8, 2: 5.5, 3: 12.9, 4: 30.2, 5: 66.1, 6: 144 u16 profile_data_length The length of the proceeding vector field u16[] profile_data An array of return strength measurements taken at regular intervals across the scan region. The first element is the closest measurement to the sensor, and the last element is the farthest measurement in the scanned range."},{"location":"pingmessage-ping1dtsr/#1501-get_gps_location","title":"1501 get_gps_location","text":"<p>Return the last known GPS location</p> Type Name Description Units double utc_time UTC time from the GPS double latitude [-] decimal lattitude double longitude [-] decimal longitude double altitude altitude in meters double HDOP horizontal precision double geoid_separation adjustment in meters m u16 reference_id Reference station ID (0..4095) u8 quality 0 - not valid, &gt;0 (see NEMA definitions) u8 satellites 0..24"},{"location":"pingmessage-ping1dtsr/#1301-oss_profile_configuration","title":"1301 oss_profile_configuration","text":"<p>Get the profile output configuration. (Open source firmware only)</p> Type Name Description Units u16 number_of_points u8 normalization_enabled If enabled, the profile data is scaled so that the maximum value aligns with the upper limit of 255. (0: Disabled, 1: Enabled) u8 enhance_enabled If enabled, the profile data will be unevenly scaled to enhance peak values. (0: Disabled, 1: Enabled)"},{"location":"pingmessage-ping1dtsr/#control","title":"control","text":""},{"location":"pingmessage-ping1dtsr/#1100-goto_bootloader","title":"1100 goto_bootloader","text":"<p>Send the device into the bootloader. This is useful for firmware updates.</p> <p>No payload.</p>"},{"location":"pingmessage-ping1dtsr/#1400-continuous_start","title":"1400 continuous_start","text":"<p>Command to initiate continuous data stream of profile messages.</p> Type Name Description Units u16 id The message id to stream. 1500: profile"},{"location":"pingmessage-ping1dtsr/#1401-continuous_stop","title":"1401 continuous_stop","text":"<p>Command to stop the continuous data stream of profile messages.</p> Type Name Description Units u16 id The message id to stop streaming. 1500: profile"},{"location":"pingmessage-ping360/","title":"Ping360 messages","text":""},{"location":"pingmessage-ping360/#set","title":"set","text":""},{"location":"pingmessage-ping360/#2000-set_device_id","title":"2000 set_device_id","text":"<p>Change the device id</p> Type Name Description Units u8 id Device ID (1-254). 0 and 255 are reserved. u8 reserved reserved"},{"location":"pingmessage-ping360/#get","title":"get","text":""},{"location":"pingmessage-ping360/#2300-device_data","title":"2300 device_data","text":"<p>This message is used to communicate the current sonar state. If the data field is populated, the other fields indicate the sonar state when the data was captured. The time taken before the response to the command is sent depends on the difference between the last angle scanned and the new angle in the parameters as well as the number of samples and sample interval (range). To allow for the worst case reponse time the command timeout should be set to 4000 msec.</p> Type Name Description Units u8 mode Operating mode (1 for Ping360) u8 gain_setting Analog gain setting (0 = low, 1 = normal, 2 = high) u16 angle Head angle gradians u16 transmit_duration Acoustic transmission duration (1~1000 us) microseconds u16 sample_period Time interval between individual signal intensity samples in 25 ns increments (80 to 40000 == 2 to 1000 us) eicosapenta-nanoseconds u16 transmit_frequency Acoustic operating frequency (500~1000 kHz). It is only practical to use say 650 to 850 kHz due to the narrow bandwidth of the acoustic receiver. kilohertz u16 number_of_samples Number of samples per reflected signal (supported values: 200~1200) samples u16 data_length The length of the proceeding vector field u8[] data An array of return strength measurements taken at regular intervals across the scan region. The first element is the closest measurement to the sensor, and the last element is the farthest measurement in the scanned range."},{"location":"pingmessage-ping360/#2301-auto_device_data","title":"2301 auto_device_data","text":"<p>NEW (v1.1.0) Extended version of <code>device_data</code> with <code>auto_transmit</code> information. The sensor emits this message when in <code>auto_transmit</code> mode.</p> Type Name Description Units u8 mode Operating mode (1 for Ping360) u8 gain_setting Analog gain setting (0 = low, 1 = normal, 2 = high) u16 angle Head angle gradians u16 transmit_duration Acoustic transmission duration (1~1000 us) microseconds u16 sample_period Time interval between individual signal intensity samples in 25 ns increments (80 to 40000 == 2 to 1000 us) eicosapenta-nanoseconds u16 transmit_frequency Acoustic operating frequency (500~1000 kHz). It is only practical to use say 650 to 850 kHz due to the narrow bandwidth of the acoustic receiver. kilohertz u16 start_angle Head angle to begin scan sector for autoscan (0~399 = 0~360 degrees). gradians u16 stop_angle Head angle to end scan sector for autoscan (0~399 = 0~360 degrees). gradians u8 num_steps Number of 0.9 degree motor steps between pings for auto scan (1~10 = 0.9~9.0 degrees) gradians u8 delay An additional delay between successive transmit pulses (0~100 ms). This may be necessary for some programs to avoid collisions on the RS485 USRT. milliseconds u16 number_of_samples Number of samples per reflected signal (supported values: 200~1200) samples u16 data_length The length of the proceeding vector field u8[] data An array of return strength measurements taken at regular intervals across the scan region. The first element is the closest measurement to the sensor, and the last element is the farthest measurement in the scanned range."},{"location":"pingmessage-ping360/#control","title":"control","text":""},{"location":"pingmessage-ping360/#2600-reset","title":"2600 reset","text":"<p>Reset the sonar. The bootloader may run depending on the selection according to the <code>bootloader</code> payload field. When the bootloader runs, the external LED flashes at 5Hz. If the bootloader is not contacted within 5 seconds, it will run the current program. If there is no program, then the bootloader will wait forever for a connection. Note that if you issue a reset then you will have to close all your open comm ports and go back to issuing either a discovery message for UDP or go through the break sequence for serial comms before you can talk to the sonar again.</p> Type Name Description Units u8 bootloader 0 = skip bootloader; 1 = run bootloader u8 reserved reserved"},{"location":"pingmessage-ping360/#2601-transducer","title":"2601 transducer","text":"<p>The transducer will apply the commanded settings. The sonar will reply with a <code>device_data</code> message. If the <code>transmit</code> field is 0, the sonar will not transmit after locating the transducer, and the <code>data</code> field in the <code>device_data</code> message reply will be empty. If the <code>transmit</code> field is 1, the sonar will make an acoustic transmission after locating the transducer, and the resulting data will be uploaded in the <code>data</code> field of the <code>device_data</code> message reply. To allow for the worst case response time the command timeout should be set to 4000 msec.</p> Type Name Description Units u8 mode Operating mode (1 for Ping360) u8 gain_setting Analog gain setting (0 = low, 1 = normal, 2 = high) u16 angle Head angle gradians u16 transmit_duration Acoustic transmission duration (1~1000 us) microseconds u16 sample_period Time interval between individual signal intensity samples in 25 ns increments (80 to 40000 == 2 to 1000 us) eicosapenta-nanoseconds u16 transmit_frequency Acoustic operating frequency (500~1000 kHz). It is only practical to use say 650 to 850 kHz due to the narrow bandwidth of the acoustic receiver. kilohertz u16 number_of_samples Number of samples per reflected signal (supported values: 200~1200) samples u8 transmit 0 = do not transmit; 1 = transmit after the transducer has reached the specified angle u8 reserved reserved"},{"location":"pingmessage-ping360/#2602-auto_transmit","title":"2602 auto_transmit","text":"<p>NEW (v1.1.0) Extended <code>transducer</code> message with auto-scan function. The sonar will automatically scan the region between <code>start_angle</code> and <code>end_angle</code> and send <code>auto_device_data</code> messages as soon as new data is available. Send a line break to stop scanning (and also begin the autobaudrate procedure). Alternatively, a <code>motor_off</code> message may be sent (but retries might be necessary on the half-duplex RS485 interface).</p> Type Name Description Units u8 mode Operating mode (1 for Ping360) u8 gain_setting Analog gain setting (0 = low, 1 = normal, 2 = high) u16 transmit_duration Acoustic transmission duration (1~1000 us) microseconds u16 sample_period Time interval between individual signal intensity samples in 25 ns increments (80 to 40000 == 2 to 1000 us) eicosapenta-nanoseconds u16 transmit_frequency Acoustic operating frequency (500~1000 kHz). It is only practical to use say 650 to 850 kHz due to the narrow bandwidth of the acoustic receiver. kilohertz u16 number_of_samples Number of samples per reflected signal (supported values: 200~1200) samples u16 start_angle Head angle to begin scan sector for autoscan (0~399 = 0~360 degrees). gradians u16 stop_angle Head angle to end scan sector for autoscan (0~399 = 0~360 degrees). gradians u8 num_steps Number of 0.9 degree motor steps between pings for auto scan (1~10 = 0.9~9.0 degrees) gradians u8 delay An additional delay between successive transmit pulses (0~100 ms). This may be necessary for some programs to avoid collisions on the RS485 USRT. milliseconds"},{"location":"pingmessage-ping360/#2903-motor_off","title":"2903 motor_off","text":"<p>The sonar switches the current through the stepper motor windings off to save power. The sonar will send an ack message in response. The command timeout should be set to 50 msec. If the sonar is idle (not scanning) for more than 30 seconds then the motor current will automatically turn off. When the user sends any command that involves moving the transducer then the motor current is automatically re-enabled.</p> <p>No payload.</p>"},{"location":"pingmessage-s500/","title":"S500 messages","text":""},{"location":"pingmessage-s500/#general","title":"general","text":""},{"location":"pingmessage-s500/#10-json_wrapper","title":"10 JSON_WRAPPER","text":"Type Name Description Units char[] string Length is derived from payload_length in the header."},{"location":"pingmessage-s500/#control","title":"control","text":""},{"location":"pingmessage-s500/#1015-set_ping_params","title":"1015 set_ping_params","text":"<p>Set parameters</p> Type Name Description Units u32 start_mm Start of ping range, normally set to 0. mm u32 length_mm Length of the returned profile. End of range = start_mm + length_mm. Set to 0 for auto_range. mm i16 gain_index Set to -1 for auto gain, otherwise 0-13 sets gain for manual gain. i16 msec_per_ping Set to -1 to start a single ping. Otherwise sets minimum ping interval. msec u16 pulse_len_usec 0 for auto mode. Currently ignored and auto duration is always used. u16 report_id The ID of the packet type that you would like in response. Options are distance2 (1223), profile6 (1308), or zero. Zero disables pinging. u16 reserved Set to 0 u8 chirp Set to 1 for chirp, 0 for monotone ping. u8 decimation Set to 0 for auto range resolution in chirp mode"},{"location":"pingmessage-s500/#1002-set_speed_of_sound","title":"1002 set_speed_of_sound","text":"<p>Set the speed of sound</p> Type Name Description Units u32 sos_mm_per_sec The speed of sound in the measurement medium, ~1,500,000 mm/s for water. mm/s"},{"location":"pingmessage-s500/#get","title":"get","text":""},{"location":"pingmessage-s500/#1211-altitude","title":"1211 altitude","text":"Type Name Description Units u32 altitude_mm Result of most recent calculated distance from device to bottom (or other target). mm u8 quality Measure of confidence of altitude measure, 0 (No idea) to 100 (Quite sure)."},{"location":"pingmessage-s500/#1223-distance2","title":"1223 distance2","text":"<p>Reports a simple distance measurement.</p> Type Name Description Units u32 ping_distance_mm Distance of most recent ping mm u32 averaged_distance_mm Average distance over last 20 pings mm u16 reserved u8 ping_confidence 0 to 100 u8 average_distance_confidence 0 to 100 u32 timestamp msec"},{"location":"pingmessage-s500/#1200-fw_version","title":"1200 fw_version","text":"Type Name Description Units u8 device_type u8 device_model u16 version_major u16 version_minor"},{"location":"pingmessage-s500/#1207-gain_index","title":"1207 gain_index","text":"Type Name Description Units u32 gain_index Current gain index setting"},{"location":"pingmessage-s500/#1206-ping_rate_msec","title":"1206 ping_rate_msec","text":"Type Name Description Units u16 msec_per_ping Minimum time between successive pings. Can be longer depending on range. msec"},{"location":"pingmessage-s500/#1213-processor_degc","title":"1213 processor_degC","text":"Type Name Description Units u32 centi_degC Device CPU temperature, result = degrees C * 100 centi-degrees C"},{"location":"pingmessage-s500/#1308-profile6_t","title":"1308 profile6_t","text":"<p>Reports a measure of signal strength at all depths within the ping range. This could be used to present a 'waterfall' type display similar to a commercial marine depth sounder or fish finder. The Cerulean SonarView app uses profile6_t to do just that. The native number of results reported for the profile6_t is 1024 for monotone pings. For chirp pings, the range resolution is affected by the 'decimation' field in the set_ping_params command. If decimation is set to 0, the device will vary decimation depending on range. The smallest decimation will be used that does not exceed 6000 reported data elements. Keep in mind the bandwidth of the communication channel in use when considering which profile report to use. For example, profile6_t can generate a lot of data, and is probably best used with the USB or Ethernet interface.</p> Type Name Description Units u32 ping_number Sequentially assigned from 0 at power up. u32 start_mm Start of ping range mm u32 length_mm Length of the returned profile. End of range = start_mm + length_mm. mm u32 start_ping_hz Initial frequency of ping. hz u32 end_ping_hz Final frequency of ping. hz u32 adc_sample_hz Sampling rate of adc hz u32 timestamp_msec msec u32 spare2 float pulse_duration_sec Pulse duration in seconds. sec float analog_gain float max_pwr_db Maximum power level in dB. dB float min_pwr_db Minimum power level in dB. dB float this_ping_depth_m Depth in meters as calculated from most recent ping. m float smooth_depth_m Smoothed calculated depth in meters. m float fspare2 0 u8 ping_depth_measurement_confidence Depth measurement confidence (0-100) based on most recent ping. u8 gain_index u8 decimation u8 smoothed_depth_measurement_confidence 0 (0-100) u16 num_results u16[] pwr_results Power results scaled from min_pwr to max_pwr. num_results entries. Length is derived from payload_length in the header."},{"location":"pingmessage-s500/#1204-range","title":"1204 range","text":"Type Name Description Units u32 start_mm Normally 0. mm u32 length_mm start_mm + length_mm is max range. mm"},{"location":"pingmessage-s500/#1203-speed_of_sound","title":"1203 speed_of_sound","text":"Type Name Description Units u32 sos_mm_per_sec Current speed of sound setting in mm/sec, default is 1500 m/sec. mm/sec"},{"location":"pingmessage-surveyor240/","title":"Surveyor240 messages","text":""},{"location":"pingmessage-surveyor240/#control","title":"control","text":""},{"location":"pingmessage-surveyor240/#17-set_net_info","title":"17 set_net_info","text":"<p>The first octet of the IP address is placed in the least significant byte of the u32. For example, the IP address 192.168.2.2 would be packed into a u32 like this: u32 ip = (192) | (168 &lt;&lt; 8) | (2 &lt;&lt; 16) | (2 &lt;&lt; 24);</p> Type Name Description Units u32 ntp_ip_address IP address of NTP server. u32 subnet_mask Subnet of NTP server. u32 gateway_ip Gateway IP address of NTP server. Only necessary if NTP server is in different subnet than device and needs to be accessed through a gateway. Otherwise can be left as 0"},{"location":"pingmessage-surveyor240/#3023-set_ping_parameters","title":"3023 set_ping_parameters","text":"<p>Used to control the operation of Surveyor</p> Type Name Description Units i32 start_mm Start range in mm at which echo data is recorded. Ignored in auto range mode. Will be forced to 5% of end range as a minimum. mm i32 end_mm End range in mm over which echo data is recorded. Set to 0 for Surveyor to automatically track the bottom and adjust range dynamically. mm float sos_mps Speed of sound m/s i16 gain_index Set to -1 for auto gain (recommended). Valid manual gain ranges are from 0 to 100 i16 msec_per_ping pings per second = 1000 / msec_per_ping. So 100 msec_per_ping means 10 pings per second. Actual ping rate can be limited by range and speed of sound, so the value specified defines an upper limit on ping rate. ms/ping u16 deprecated Set to 0 u8 diagnostic_injected_signal must be set to 0 bool ping_enable true to start/continue pinging, false to stop bool enable_channel_data Used by SonarView, but not necessary. If enabled log files will be much larger. bool reserved_for_raw_data Must be set to false bool enable_yz_point_data Angle and time of flight data is preferred for future SonarView enhancements. bool enable_atof_data Enable angle and time of flight information for each detected point i32 target_ping_hz Set to 240000. Used for internal production testing only u16 n_range_steps Sets range resolution in number of range steps. Must be between 200 and 800 (inclusive) u16 reserved float pulse_len_steps Pulse length in number of range steps. Recommended value is 1.5"},{"location":"pingmessage-surveyor240/#15-utc_response","title":"15 utc_response","text":"Type Name Description Units u64 utc_msec u32 accuracy_msec"},{"location":"pingmessage-surveyor240/#general","title":"general","text":""},{"location":"pingmessage-surveyor240/#14-utc_request","title":"14 utc_request","text":"<p>No payload.</p>"},{"location":"pingmessage-surveyor240/#10-json_wrapper","title":"10 JSON_WRAPPER","text":"Type Name Description Units char[] string Length is derived from payload_length in the header."},{"location":"pingmessage-surveyor240/#get","title":"get","text":""},{"location":"pingmessage-surveyor240/#3012-atof_point_data","title":"3012 atof_point_data","text":"<p>A response packet Surveyor sends to the host application containing angle and time of flight for each detected point.</p> Type Name Description Units u32 pwr_up_msec Time at start of ping, msec since power on. msec u64 utc_msec Time at start of ping, utc msec (1970 epoc). Will be 0 if not avaliable. msec float listening_sec Time from start of ping to last range bin. sec float sos_mps Speed of sound (mps) used in angle calculations. float u32 ping_number Assigned sequentially from power on. u32 ping_hz Frequency of the ping signal (Hz). Hz float pulse_sec Pulse length in seconds. sec u32 flags reserved u16 num_points Number of points reported in the points field u16 reserved atof_t[] atof_point_data Length is derived from payload_length in the header."},{"location":"pingmessage-surveyor240/#504-attitude_report","title":"504 attitude_report","text":"<p>A response packet Surveyor sends to the host application containing information about the attitude (pitch and roll) of the device based on it's internal sensors.</p> Type Name Description Units float up_vec_x World up vector (x, y, z) in the device coordinate system (x forward, y port, z up) float up_vec_y World up vector (x, y, z) in the device coordinate system (x forward, y port, z up) float up_vec_z World up vector (x, y, z) in the device coordinate system (x forward, y port, z up) float reserved_1 reserved for future magnetic field vector float reserved_2 reserved for future magnetic field vector float reserved_3 reserved for future magnetic field vector u64 utc_msec utc msec (1970 epoc). Will be 0 if not avaliable msec u32 pwr_up_msec msec since power up msec"},{"location":"pingmessage-surveyor240/#118-water_stats","title":"118 water_stats","text":"<p>A response packet Surveyor sends to the host application containing information about the temperature and pressure of the water.</p> Type Name Description Units float temperature deg C float pressure Bar"},{"location":"pingmessage-surveyor240/#3011-yz_point_data","title":"3011 yz_point_data","text":"<p>A response packet that Surveyor sends to the host application containing the detected depth points.</p> Type Name Description Units u32 timestamp_msec msec since power up msec u32 ping_number Assigned sequentially from power on. float sos_mps Speed of sound m/s float up_vec_x World up vector (x, y, z) in the device coordinate system (x forward, y port, z up) float up_vec_y World up vector (x, y, z) in the device coordinate system (x forward, y port, z up) float up_vec_z World up vector (x, y, z) in the device coordinate system (x forward, y port, z up) float mag_vec_x reserved for future magnetic field vector float mag_vec_y reserved for future magnetic field vector float mag_vec_z reserved for future magnetic field vector u32 reserved_0 u32 reserved_1 u32 reserved_2 u32 reserved_3 u32 reserved_4 u32 reserved_5 u32 reserved_6 u32 reserved_7 u32 reserved_8 u32 reserved_9 float water_degC -1000 if sensor not installed deg C float water_bar Water pressure in bar. -1000 if sensor not installed bar float heave_m Reserved for heave in meters. meters float start_m Range at the beginning of the analyzed signals for this ping. meters float end_m Range at the end of the analyzed signals for this ping. meters u16 unused u16 num_points Number of points reported in the points field float[] yz_point_data Y and Z value pairs for each detected point. Y is athwartships offset in meters, positive to the port side. Z is depth, positive up so all z values will be negative. Length is derived from payload_length in the header."}]}